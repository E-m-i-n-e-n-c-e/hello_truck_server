

# Check server url https://hello-truck-server.fly.dev/

POST https://hello-truck-server.fly.dev/auth/driver/refresh-token
Content-Type: application/json

{
  "refreshToken": "refreshToken"
}

### Send OTP
POST https://hello-truck-server.fly.dev/auth/customer/send-otp
Content-Type: application/json

{
  "phoneNumber": "6300041123"
}

### Verify OTP
POST http://localhost:3000/auth/customer/verify-otp
Content-Type: application/json

{
  "phoneNumber": "6300041123",
  "otp": "123456"
}

### Create saved address
POST http://localhost:3000/customer/addresses
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "name": "Home 1",
  "address": {
    "formattedAddress": "123, Main Street, Mumbai, Maharashtra, 400001",
    "addressDetails": "House No. 123, Street Name, City, State, 400001",
    "latitude": 19.0760,
    "longitude": 72.8777
  },
  "contactName": "John Doe",
  "contactPhone": "6300041123",
  "noteToDriver": "Please deliver to the main entrance",
  "isDefault": true
}

### Get saved addresses
GET http://localhost:3000/customer/addresses
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

### Create user profile
POST http://localhost:3000/customer/profile
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "firstName": "John",
  "lastName": "Doe",
  "referralCode": "123456",
  "gstDetails": {
    "gstNumber": "27AAACF2234C1Z7",
    "businessName": "Hello Truck Pvt Ltd",
    "businessAddress": "123, Main Street, Mumbai, Maharashtra, 400001"
  }
}
### Get user profile
GET http://localhost:3000/customer/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

### Update user profile
PUT http://localhost:3000/customer/profile
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "email": "john.doe@example.com"
}

### get gst details
GET http://localhost:3000/customer/gst/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

### Add GST details
POST http://localhost:3000/customer/gst
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "gstNumber": "27AAACF2234C1Z8",
  "businessName": "Hello Truck Pvt Ltd",
  "businessAddress": "123, Main Street, Mumbai, Maharashtra, 400001"
}

### Update GST details
PUT http://localhost:3000/customer/gst/b394e6f4-e40f-4a5e-a6ca-1cf715c4f95c
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{

  "gstNumber": "27AAACF2234C1Z5",
  "businessName": "Hello Truck Pvt Ltd Updated",
  "businessAddress": "123, Main Street, Mumbai, Maharashtra, 400001"
}

### Deactivate GST details
POST http://localhost:3000/customer/gst/deactivate
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "id": "da41269f-9325-492b-9aad-045432a1003a"
}

### Get booking estimate with all vehicle options
POST https://hello-truck-server.fly.dev/bookings/customer/estimate
Content-Type: application/json
Authorization: Bearer 6300045929

{
  "pickupAddress": {
    "latitude": 19.0760,
    "longitude": 72.8777,
    "formattedAddress": "Mumbai, Maharashtra, India"
  },
  "dropAddress": {
    "latitude": 19.2183,
    "longitude": 72.9781,
    "formattedAddress": "Thane, Maharashtra, India"
  },
  "packageDetails": {
    "packageType": "PERSONAL",
    "productType": "NON_AGRICULTURAL",
    "nonAgricultural": {
      "averageWeight": 25,
      "numberOfProducts": 2,
      "packageDescription": "Electronics package"
    }
  }
}

### Get booking estimate for heavy package (should show limited vehicle options)
POST https://hello-truck-server.fly.dev/bookings/customer/estimate
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "pickupAddress": {
    "latitude": 19.0760,
    "longitude": 72.8777,
    "formattedAddress": "Mumbai, Maharashtra, India"
  },
  "dropAddress": {
    "latitude": 19.2183,
    "longitude": 72.9781,
    "formattedAddress": "Thane, Maharashtra, India"
  },
  "packageDetails": {
    "packageType": "COMMERCIAL",
    "productType": "AGRICULTURAL",
    "agricultural": {
      "productName": "Rice",
      "approximateWeight": 800,
      "weightUnit": "KG"
    }
  }
}

### Create a new booking
POST http://localhost:3000/bookings/customer
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "pickupAddress": {
    "latitude": 19.0760,
    "longitude": 72.8777,
    "formattedAddress": "Mumbai, Maharashtra, India"
  },
  "dropAddress": {
    "latitude": 19.2183,
    "longitude": 72.9781,
    "formattedAddress": "Thane, Maharashtra, India"
  },
  "package": {
    "packageType": "PERSONAL",
    "productType": "NON_AGRICULTURAL",
    "nonAgricultural": {
      "averageWeight": 25,
      "numberOfProducts": 2,
      "packageDescription": "Electronics package"
    }
  },
  "selectedVehicleType": "THREE_WHEELER"
}

### Get active bookings
GET http://localhost:3000/bookings/customer/active
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
### Get booking history
GET http://localhost:3000/bookings/customer/history
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
### Get specific booking (replace {bookingId} with actual ID)
GET http://localhost:3000/bookings/customer/{bookingId}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
### Cancel a booking (replace {bookingId} with actual ID)
DELETE http://localhost:3000/bookings/customer/{bookingId}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
### Update a booking (replace {bookingId} with actual ID)
PUT http://localhost:3000/bookings/customer/{bookingId}
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
{
  "dropAddress": {
    "latitude": 19.2183,
    "longitude": 72.9781,
    "formattedAddress": "Updated Drop Address, Thane, Maharashtra, India"
  }
}

### Reschedule a booking (replace {bookingId} with actual ID)
POST http://localhost:3000/bookings/customer/{bookingId}/reschedule
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
{
  "scheduledAt": "2024-01-15T10:00:00Z"
}

### Rate a completed booking (replace {bookingId} with actual ID)
POST http://localhost:3000/bookings/customer/{bookingId}/rate
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
{
  "rating": 5,
  "review": "Excellent service! Driver was very professional and delivered on time."
}

### Get upload URL for documents
GET http://localhost:3000/bookings/customer/upload-url?filePath=bookings/documents&type=image
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
### Get booking tracking (replace {bookingId} with actual ID)
GET http://localhost:3000/bookings/customer/{bookingId}/tracking
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
### Get pending bookings
GET http://localhost:3000/bookings/customer/pending
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o
### Get completed bookings
GET http://localhost:3000/bookings/customer/completed
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o


### Create a new booking (from Flutter debug payload)
POST https://hello-truck-server.fly.dev/bookings/customer
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyVHlwZSI6ImN1c3RvbWVyIiwidXNlcklkIjoiZDYzZDI3NjItZWJmZi00NTE5LWExOGItMWNiNzI4ODE5NWE4IiwicGhvbmVOdW1iZXIiOiI2MzAwMDQxMTIzIiwiaGFzQ29tcGxldGVkT25ib2FyZGluZyI6dHJ1ZSwiaWF0IjoxNzU1NTI3NTAxLCJleHAiOjE3NTU1Mjg0MDF9.01JqkcjI-iharGoGXE9b9puwzMJIw_ejXNf98-2Gl1o

{
  "pickupAddress": {
    "formattedAddress": "Rama Bharathi Nilayam, Plot 122/A, 301, Moti Nagar Phase III, Kalyan Nagar, Moti Nagar, Hyderabad, Telangana 500114, India",
    "addressDetails": null,
    "latitude": 17.45106422,
    "longitude": 78.4215169
  },
  "dropAddress": {
    "formattedAddress": "QJ4X+G6, Vallichira, Nechipuzhoor, Kerala 686635, India",
    "addressDetails": null,
    "latitude": 9.75624541,
    "longitude": 76.64797559
  },
  "package": {
    "packageType": "PERSONAL",
    "productType": "NON_AGRICULTURAL",
    "nonAgricultural": {
      "averageWeight": 51.0,
      "bundleWeight": null,
      "numberOfProducts": null,
      "packageDimensions": {
        "length": null,
        "width": null,
        "height": null,
        "unit": "CM"
      },
      "packageDescription": "",
      "packageImageUrl": null
    },
    "transportDocUrls": []
  },
  "selectedVehicleType": "THREE_WHEELER"
}

### Firebase - Notify User
POST http://localhost:3000/firebase/notify-user
Authorization: Bearer 6300045929
Content-Type: application/json

{
  "userId": "d63d2762-ebfe-4519-a18b-1cb7288195a8"
}